<header data-header>
  {{ 'FISCAL_YEAR.MANAGEMENT' | translate }} {{ 'FISCAL_YEAR.TITLE' | translate }}
</header>

<nav>
  <button id="createFiscal" ng-click="createFiscalYear()" class="btn btn-success btn-sm">
    <span class="glyphicon glyphicon-plus"></span> {{ 'FISCAL_YEAR.CREATE' | translate }}
  </button>
</nav>

<main class="extend">
  <div class="col-xs-4">
    <div class="row">
      <div class="panel panel-default" style="overflow-x: auto;">
        <div class="panel-heading">
          <span class="glyphicon glyphicon-calendar"></span> {{ 'FISCAL_YEAR.RECORDS' | translate }}
        </div>

        <table class="table">
          <thead>
            <tr>
              <th>{{ 'FISCAL_YEAR.DESCRIPTION' | translate }}</th>
              <th>{{ 'FISCAL_YEAR.START_DATE' | translate }}</th>
            </tr>
          </thead>
          <tbody>
            <tr ng-if="fiscal.data.length === 0">
              <td colspan="2">
                <i>{{ 'FISCAL_YEAR.NO_RECORDS' | translate }}</i>
              </tr>
            </tr>
            <tr ng-repeat="year in fiscal.data" ng-class="{'btn-primary': year.id === selected }" ng-click="selectYear(year.id)" style="cursor:pointer">
              <td>{{ year.fiscal_year_txt }}</td>
              <td>{{ year.start_month}}/{{year.start_year }}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div><!-- End columns 4 -->

  <div class="col-xs-8">
    <div ng-switch="active" class="row col-xs-12">

      <!-- context: default help text -->
      <div ng-switch-default>
        <div class="alert alert-info">
          <h4>{{ "FISCAL_YEAR.TITLE" | translate }}</h4>
          <p>{{ "FISCAL_YEAR.HELP_TXT" | translate }}</p>
          <ul class="list-plain">
            <li><i class="glyphicon glyphicon-pencil"></i> {{ 'FISCAL_YEAR.EDIT' | translate }}</li>
          </ul>
        </div>
      </div>
      
      <!-- context: creating a new fiscal year -->
      <div ng-switch-when="create">
        <div ng-include="'partials/fiscal/fiscal.create.html'"></div>
      </div>

      <!-- context: updating a fiscal year -->
      <div ng-switch-when="update">
        <div ng-include="'partials/fiscal/fiscal.update.html'"></div>
      </div>

    </div>
  </div>
</main>
