<header data-header>
  {{ "INVENTORY.REGISTER.TITLE" | translate }}
</header>

<nav>
  <div class="pull-left">
    <ol class="breadcrumb" style="float: right;">
      <li><a href="#/"><span class="glyphicon glyphicon-home"></span></a></li>
      <li><a href="#/inventory">{{ "INVENTORY.MAIN.TITLE" | translate }}</a></li>
      <li class="active">{{ "INVENTORY.REGISTER.TITLE" | translate }}</li>
    </ol>
  </div>
</nav>

<main>
  <form name="inventory" novalidate>
    <div class="row margin-top-10">
      <div class="col-xs-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            {{ "INVENTORY.REGISTER.GENERAL" | translate }}
          </div>
          <div class="panel-body">

            <fieldset>
              <div class="col-xs-3" ng-repeat="type in inventory_type.data">
                <div class="radio" >
                  <label>
                    <input name="type_id" type="radio" value="{{type.id}}" id="inventory-reg-{{type.text}}" ng-model="$parent.item.type_id" ng-required="!$parent.item.type_id">
                    {{ type.text }}
                  </label>
                </div>
              </div>
            </fieldset>

            <div class="form-group">
              <label for="inventory-reg-code" class="required">
                {{ "INVENTORY.REGISTER.CODE" | translate }}
              </label>
              <input name="code" id="inventory-reg-code" class="form-bhima" ng-model="item.code" required>
            </div>

            <div class="form-group">
              <label for="inventory-reg-text">
                {{ "INVENTORY.REGISTER.DESCRIPTION" | translate }}
              </label>
              <textarea name="text" id="inventory-reg-text" class="form-bhima" rows="3" ng-model="item.text" required></textarea>
            </div>

            <hr />

            <div class="form-group">
              <label for="inventory-reg-group" class="required">
                {{ "INVENTORY.REGISTER.GROUP" | translate }}
              </label>
              <select id="inventory-reg-group" class="form-bhima" name="group_id" ng-model="item.group_uuid" ng-options="group.uuid as group.name for group in inventory_group.data | orderBy:'name'" required>
                <option value="" disabled="disabled">-- {{ "SELECT.INVENTORY_GROUP" | translate }} --</option>
              </select>
            </div>
          </div>
        </div>
      </div>

      <div class="col-xs-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            {{ "INVENTORY.REGISTER.BILLING" | translate }}
          </div>
          <div class="panel-body">
            <fieldset>
              <div class="col-xs-3">
                <div class="radio">
                  <label>
                    <input name="consumable" type="radio" id="inventory-reg-consumable" value="1" ng-model="item.consumable" ng-required="!item.consumable">
                    {{ "INVENTORY.REGISTER.CONSUMABLE" | translate }}
                  </label>
                </div>
              </div>

              <div class="col-xs-3">
                <div class="radio">
                  <label for="inventory-reg-durable">
                    <input name="consumable" type="radio" id="inventory-reg-durable" value="0" ng-model="item.consumable" ng-required="!item.consumable">
                    {{ "INVENTORY.REGISTER.DURABLE" | translate }}
                  </label>
                </div>
              </div>
            </fieldset>

            <div class="form-group" >
              <label for="inventory-reg-unit" class="required">
                {{ "INVENTORY.REGISTER.UNIT" | translate }}
              </label>
              <select name="unit_id" id="inventory-reg-unit" class="form-bhima" ng-model="item.unit_id" ng-options="unit.id as unit.text for unit in inventory_unit.data | orderBy:'text'" required>
                <option value="" disabled="disabled">-- {{ "SELECT.UNIT" | translate }} --</option>
              </select>
            </div>

            <div class="form-group" >
              <label for="inventory-reg-purchase-price">
                {{ "COLUMNS.PURCHASE_PRICE" | translate }} ({{ currencies.get(enterprise.currency_id).symbol }})
              </label>
              <input name="purchase_price" type="number" id="inventory-reg-purchase-price" class="form-bhima" ng-model="item.purchase_price" required>
            </div>

            <div class="form-group" >
              <label for="inventory-reg-price">
                {{ "COLUMNS.SALE_PRICE" | translate }} ({{ currencies.get(enterprise.currency_id).symbol }})
              </label>
              <input name="unit_price" type="number" id="inventory-reg-price" class="form-bhima" ng-model="item.price" required>
            </div>

            <div class="form-group" >
              <label for="inventory-reg-weight" class="required">
                {{ "INVENTORY.REGISTER.UNIT_WEIGHT" | translate }}
              </label>
              <input name="unit_weight" type="number" id="inventory-reg-weight" class="form-bhima" ng-model="item.unit_weight">
            </div>

            <div class="form-group" >
              <label for="inventory-reg-volume" class="required">
                {{ "INVENTORY.REGISTER.UNIT_VOLUME" | translate }}
              </label>
              <input name="unit_volume" type="number" id="inventory-reg-volume" class="form-bhima" ng-model="item.unit_volume">
            </div>
          </div>
        </div>
      </div>
    </div>
  </form>
</main>

<footer>
  <div class="pull-right">
    <input type="submit" class="btn btn-sm btn-success" ng-click="submit()" ng-disabled="!isSubmitable()" value="{{ 'FORM.SUBMIT' | translate }}"/>
    <input type="reset" class="btn btn-sm btn-default" ng-click="reset()" value="{{ 'FORM.RESET' | translate }}"/>
  </div>
</footer>
